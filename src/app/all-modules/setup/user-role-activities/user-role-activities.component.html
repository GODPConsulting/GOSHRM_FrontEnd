<div class="user-role_wrapper ui-g">
    <div class="ui-g-12 no-padding">
      <div style="margin-bottom:0" class="panel panel-default">
        <div class="panel-heading">
          <div class="row">
            <div class="col-md-12">
              <h2 class="panel-title pull-left">
                {{ formTitlte }}
              </h2>
              <button
                pButton
                type="button"
                style="margin-left: 5px"
                class="ui-button-raised ui-button-danger pull-right"
                (click)="goBack()"
                icon="ui-icon-chevron-left"
                iconPos="left"
                label="Back"
              ></button>
              <button
                pButton
                type="button"
                class="ui-button-raised ui-button-success pull-right"
                [disabled]="!roleName"
                (click)="SubmitUserRole()"
                icon="ui-icon-save"
                iconPos="left"
                label="Save"
              ></button>
            </div>
          </div>
        </div>
  
        <div class="panel-body">
          <div class="form-horizontal">
            <div class="form-group">
              <label for="" class="control-label col-md-2">
                Role Name
              </label>
              <div class="col-md-4">
                <input
                  type="text"
                  [(ngModel)]="roleName"
                  name="roleName"
                  class="form-control"
                />
              </div>
              <label for="" class="control-label col-md-2">
                Filter Module
              </label>
              <div class="col-md-4">
                <select
                  (change)="onSelectedModuleChanged($event.target.value)"
                  name="roleName"
                  id="roleName"
                  class="form-control"
                >
                  <option value="">All</option>
                  <option
                    *ngFor="let role of modules"
                    value="{{ role.lookupId }}"
                  >
                    {{ role.lookupName }}
                  </option>
                </select>
              </div>
            </div>
  
            <p-table
              #dt
              [value]="filteredUserRoleActivities"
              [(selection)]="selecteduserRoleActivity"
              dataKey="activityId"
              [paginator]="false"
              [rows]="filteredUserRoleActivities?.length"
              [scrollable]="true"
              [scrollHeight]="viewHeight"
              [responsive]="true"
            >
              <ng-template pTemplate="caption">
                <div style="text-align: right">
                  <input
                    type="text"
                    pInputText
                    size="50"
                    class="form-control"
                    placeholder="Search..."
                    (keyup)="dt.filterGlobal($event.target.value, 'contains')"
                    style="width:auto"
                  />
                </div>
              </ng-template>
              <ng-template pTemplate="header">
                <tr>
                  <th class="checkbox_row">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                  </th>
                  <th>S/N</th>
                  <th>Module</th>
                  <th>Page</th>
                  <th class="">
                    <span>View</span>
                    <span class="th_span">
                      <input type="checkbox"(change)="checkViewAll($event)" />
                    </span>
                  </th>
                  <th class="">
                    <span>Create</span>
                    <span class="th_span">
                      <input type="checkbox" (change)="checkCreateAll($event)" />
                    </span>
                  </th>
                  <th class="">
                    <span>Update</span>
                    <span class="th_span">
                      <input type="checkbox" (change)="checkUpdateAll($event)" />
                    </span>
                  </th>
                  <th class="">
                    <span>Delete</span>
                    <span class="th_span">
                      <input type="checkbox" (change)="checkDeleteAll($event)" />
                    </span>
                  </th>
                  <th class="">
                    <span>Approve</span>
                    <span class="th_span">
                      <input type="checkbox" (change)="checkApproveAll($event)" />
                    </span>
                  </th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-x let-i="rowIndex">
                <tr [pSelectableRow]="x">
                  <td class="checkbox_row">
                    <p-tableCheckbox [value]="x"></p-tableCheckbox>
                  </td>
                  <td>{{ i + 1 }}</td>
                  <td>{{ x.activityParentName }}</td>
                  <td>{{ x.activityName }}</td>
                  <td>
                    <input
                      type="checkbox"
                      name="{{ i }}"
                      id="{{ i }}"
                      [(ngModel)]="x.canView"
                    />
                  </td>
                  <td>
                    <input
                      type="checkbox"
                      name="{{ i }}"
                      id="{{ i }}"
                      [(ngModel)]="x.canAdd"
                    />
                  </td>
                  <td>
                    <input
                      type="checkbox"
                      name="{{ i }}"
                      id="{{ i }}"
                      [(ngModel)]="x.canEdit"
  
                    />
                  </td>
                  <td>
                    <input
                      type="checkbox"
                      name="{{ i }}"
                      id="{{ i }}"
                      [(ngModel)]="x.canDelete"
                    />
                  </td>
                  <td>
                    <input
                      type="checkbox"
                      name="{{ i }}"
                      id="{{ i }}"
                      [(ngModel)]="x.canApprove"
                    />
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
        <div class="panel-footer">
          <div class="row">
            <div class="col-md-12">
              <button
                type="submit"
                [disabled]="!roleName"
                (click)="SubmitUserRole()"
                class="btn btn-success pull-right"
              >
                Save
              </button>
              <button
                type="button"
                (click)="goBack()"
                style="margin-right:5px"
                class="btn btn-danger pull-right"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
  