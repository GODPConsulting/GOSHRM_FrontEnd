<div class="setup__wrapper">
    <div class="row">
        <div class="col-md-5">
            <h3 class="">Course Creation</h3>
        </div>
        <div class="col-md-7 d-flex justify-content-end">
            <app-searchbar
              [canAdd]="true"
              [canDelete]="true"
              (btnAction)="goTo()"
              (deleteAction)="deleteCourses()"
              (searchQuery)="getSearchQuery($event)"
              (searchAction)="getAllCourses(false)"
            ></app-searchbar>
        </div>
    </div>

    <div class="setup_content bg-white my-5">
        <ng-container *ngIf="isFetchingCourses || courses.length > 0">
            <p-table
                #dt
                [value]="courses"
                dataKey="courseId"
                [(selection)]="selectedCourses"
                [paginator]="true"
                [rows]="10"
                [responsive]="true"
                [scrollable]="true"
                [scrollHeight]="viewHeight"
            >
              <ng-template pTemplate="header">
                  <tr class="thead">
                      <th>
                        <span>
                            <p-tableHeaderCheckbox>
                            </p-tableHeaderCheckbox>
                        </span>
                      </th>
                      <th [pSortableColumn]="'facilitator'">Facilitatorâ€™s Name</th>
                      <th [pSortableColumn]="'training_Name'">Training <br> Title</th>
                      <th [pSortableColumn]="'scheduleType'">Schedule <br> Type</th>
                      <th [pSortableColumn]="'delivery_Type'">Delivery <br> Type</th>
                      <th [pSortableColumn]="'rating'">Rating</th>
                      <th [pSortableColumn]="'decisionType'">Status</th>
                      <th [pSortableColumn]="'createdAt'">Date <br> Created</th>
                      <th>Action</th>
                      <th></th>         
                  </tr>
              </ng-template>
              <ng-template pTemplate="body" let-course let-i="rowIndex">
                <tr class="tbody text-capitalize" [pSelectableRow]="course">
                    <td 
                    >
                        <span class="pe-3">
                            <p-tableCheckbox
                                [value]="course"
                            ></p-tableCheckbox>
                        </span>
                        <span class="img-wrapper ps-3">
                          <img 
                            [src]="course?.coursePhotoUrl ? course?.coursePhotoUrl : '' " 
                            alt=""
                          />
                          <div class="upload-icon">
                              <i class="fa fa-camera"></i>
                              <input class="upload-file" type="file" name="" id="">
                          </div>
                        </span>
                    </td>
                    <td class="click" [routerLink]="['/courses/add-course', {courseId: course?.courseId}]">
                      {{ course?.facilitator }}
                    </td>
                    <td class="click" [routerLink]="['/courses/add-course', {courseId: course?.courseId}]">
                      {{ course?.training_Name }}
                    </td>
                    <td class="click" [routerLink]="['/courses/add-course', {courseId: course?.courseId}]">
                      {{ course?.scheduleType }}
                    </td>
                    <td class="click" [routerLink]="['/courses/add-course', {courseId: course?.courseId}]">
                      {{ course?.delivery_Type }}
                    </td>
                    <td class="click" [routerLink]="['/courses/add-course', {courseId: course?.courseId}]">
                      {{ course?.rating + '/5' }}
                      <!-- <ng-rating-bar
                        [value]="4"
                        [ratingCount]="5"
                        [disabled]="true"
                        [styles]="{ margin: '0px', fontSize: '16px'}"
                        colorActive="#F88F09" 
                        colorDefault="#cecece"
                      ></ng-rating-bar> -->
                    </td>
                    <td class="click" [routerLink]="['/courses/add-course', {courseId: course?.courseId}]">
                      {{ course?.decisionType }}
                    </td>
                    <td class="click" [routerLink]="['/courses/add-course', {courseId: course?.courseId}]">
                      {{ course?.createdAt | date }}
                    </td>
                    <td>
                      <span class="click pe-4" [routerLink]="['/communication/qa', course?.courseId]">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M9 14.1855C9.48541 14.1855 9.87891 13.792 9.87891 13.3066C9.87891 12.8212 9.48541 12.4277 9 12.4277C8.51459 12.4277 8.12109 12.8212 8.12109 13.3066C8.12109 13.792 8.51459 14.1855 9 14.1855Z" fill="#4F4F4F"/>
                          <path d="M9 0C4.02595 0 0 4.02528 0 9C0 13.974 4.02528 18 9 18C13.974 18 18 13.9747 18 9C18 4.02595 13.9747 0 9 0ZM9 16.5938C4.80315 16.5938 1.40625 13.1974 1.40625 9C1.40625 4.80315 4.80259 1.40625 9 1.40625C13.1968 1.40625 16.5938 4.80259 16.5938 9C16.5938 13.1968 13.1974 16.5938 9 16.5938Z" fill="#4F4F4F"/>
                          <path d="M9 4.51758C7.44919 4.51758 6.1875 5.77927 6.1875 7.33008C6.1875 7.71841 6.50229 8.0332 6.89062 8.0332C7.27896 8.0332 7.59375 7.71841 7.59375 7.33008C7.59375 6.55467 8.22459 5.92383 9 5.92383C9.77541 5.92383 10.4062 6.55467 10.4062 7.33008C10.4062 8.10548 9.77541 8.73633 9 8.73633C8.61166 8.73633 8.29688 9.05112 8.29688 9.43945V11.1973C8.29688 11.5856 8.61166 11.9004 9 11.9004C9.38834 11.9004 9.70312 11.5856 9.70312 11.1973V10.0536C10.9148 9.7406 11.8125 8.63821 11.8125 7.33008C11.8125 5.77927 10.5508 4.51758 9 4.51758Z" fill="#4F4F4F"/>
                        </svg>                                                  
                      </span>
                      <span class="click" [routerLink]="['/communication/announcement', course?.courseId]">
                        <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16.2034 7.50225C16.2034 6.59789 15.5215 5.85026 14.6449 5.74525V1.20623C14.6449 0.928318 14.4647 0.692983 14.1963 0.620666C13.928 0.54842 13.6539 0.661201 13.5143 0.901424C12.5555 2.55102 11.0453 3.67855 9.0257 4.25276C7.49855 4.68694 6.23834 4.62401 6.22617 4.62327C6.20768 4.62222 6.18929 4.6231 6.17108 4.62492H2.94195C1.31977 4.62492 0 5.94469 0 7.56687C0 9.09479 1.17095 10.3539 2.66252 10.4952L3.63649 14.5002C3.76545 15.0305 4.23668 15.4009 4.78244 15.4009H5.45843C5.82261 15.4009 6.16057 15.2367 6.38564 14.9503C6.61071 14.664 6.69041 14.2968 6.60438 13.9429L5.76925 10.5088H6.17048C6.18877 10.5106 6.20722 10.5115 6.22586 10.5105C6.23837 10.5098 7.49855 10.4468 9.0257 10.881C11.0452 11.4552 12.5554 12.5827 13.5143 14.2323C13.6258 14.4241 13.8229 14.5347 14.0344 14.5347C14.0879 14.5347 14.1422 14.5276 14.1963 14.5131C14.4647 14.4407 14.6449 14.2054 14.6449 13.9275V9.38845C15.5215 9.28347 16.2034 8.53584 16.2034 7.63148V7.50225ZM5.81006 13.6523L5.92112 14.1091C5.95589 14.252 5.92372 14.4003 5.83281 14.5159C5.74196 14.6315 5.60549 14.6978 5.45843 14.6978H4.78244C4.56205 14.6978 4.37179 14.5483 4.31972 14.3341L3.38945 10.5088H5.04563L5.29393 11.5299H5.12589C4.93172 11.5299 4.77432 11.6873 4.77432 11.8815C4.77432 12.0757 4.93172 12.233 5.12589 12.233H5.4649L5.63906 12.9492H5.52888C5.33471 12.9492 5.17732 13.1066 5.17732 13.3007C5.17732 13.4949 5.33471 13.6523 5.52888 13.6523H5.81006ZM5.85468 8.31379H3.66986C3.47569 8.31379 3.31829 8.47119 3.31829 8.66536C3.31829 8.85952 3.47569 9.01692 3.66986 9.01692H5.85468V9.80568H5.34108C5.33464 9.80533 5.32825 9.80488 5.32171 9.80488H2.94195C2.93861 9.80488 2.9353 9.80537 2.93196 9.80544C1.70209 9.79999 0.703125 8.798 0.703125 7.56687C0.703125 6.33239 1.70747 5.32805 2.94195 5.32805H5.85468V8.31379ZM13.9417 6.08373V9.05V13.5841C12.8882 11.9456 11.2539 10.7781 9.19424 10.198C8.0538 9.8767 7.06876 9.81254 6.5578 9.80421V8.66536V5.32952C7.06883 5.32119 8.05391 5.257 9.19424 4.93577C11.2539 4.35556 12.8882 3.18816 13.9417 1.54967V6.08373ZM15.5002 7.63148C15.5002 8.14737 15.1322 8.57891 14.6449 8.67735V6.45639C15.1322 6.55482 15.5002 6.98637 15.5002 7.50225V7.63148Z" fill="#4F4F4F"/>
                          <path d="M16.3086 5.51575C16.3931 5.51575 16.4778 5.48548 16.5452 5.42413L17.5592 4.50064C17.7028 4.3699 17.7132 4.14757 17.5824 4.00399C17.4517 3.86045 17.2293 3.85008 17.0858 3.98079L16.0718 4.90424C15.9282 5.03498 15.9178 5.25731 16.0486 5.40089C16.118 5.47707 16.2131 5.51575 16.3086 5.51575Z" fill="#4F4F4F"/>
                          <path d="M16.5452 9.70964C16.4017 9.57893 16.1793 9.5893 16.0486 9.73285C15.9178 9.87639 15.9282 10.0988 16.0718 10.2295L17.0858 11.153C17.1532 11.2144 17.2379 11.2446 17.3224 11.2446C17.4179 11.2446 17.5131 11.206 17.5824 11.1298C17.7132 10.9862 17.7028 10.7639 17.5592 10.6331L16.5452 9.70964Z" fill="#4F4F4F"/>
                          <path d="M17.6484 7.2153H16.8698C16.6757 7.2153 16.5183 7.3727 16.5183 7.56686C16.5183 7.76103 16.6757 7.91843 16.8698 7.91843H17.6484C17.8426 7.91843 18 7.76103 18 7.56686C18 7.3727 17.8426 7.2153 17.6484 7.2153Z" fill="#4F4F4F"/>
                          <path d="M2.54601 8.53099C2.53722 8.50955 2.52632 8.48916 2.51367 8.47017C2.50066 8.45084 2.48625 8.43291 2.47007 8.41674C2.45355 8.40056 2.43562 8.3858 2.41629 8.37314C2.3973 8.36049 2.37691 8.34959 2.35582 8.3408C2.33437 8.33201 2.31222 8.32533 2.29007 8.32076C2.24472 8.31162 2.19797 8.31162 2.15261 8.32076C2.13011 8.32533 2.10797 8.33201 2.08687 8.3408C2.06578 8.34959 2.04504 8.36049 2.02605 8.37314C2.00672 8.3858 1.98879 8.40056 1.97261 8.41674C1.95644 8.43291 1.94168 8.45084 1.92902 8.47017C1.91636 8.48916 1.90547 8.50955 1.89668 8.53099C1.88789 8.55209 1.88121 8.57424 1.87664 8.59674C1.87207 8.61924 1.86961 8.64244 1.86961 8.66529C1.86961 8.68814 1.87207 8.71135 1.87664 8.7342C1.88121 8.75635 1.88789 8.77849 1.89668 8.79994C1.90547 8.82103 1.91636 8.84142 1.92902 8.86041C1.94168 8.87974 1.95644 8.89767 1.97261 8.91385C1.98879 8.93002 2.00672 8.94478 2.02605 8.95779C2.04504 8.97045 2.06578 8.98135 2.08687 8.99014C2.10797 8.99892 2.13011 9.0056 2.15261 9.01017C2.17547 9.01474 2.19832 9.01685 2.22117 9.01685C2.24437 9.01685 2.26722 9.01474 2.29007 9.01017C2.31257 9.0056 2.33437 8.99892 2.35582 8.99014C2.37691 8.98135 2.3973 8.97045 2.41629 8.95779C2.43562 8.94478 2.45355 8.93002 2.47007 8.91385C2.48625 8.89767 2.50066 8.87974 2.51367 8.86041C2.52632 8.84142 2.53722 8.82103 2.54601 8.79994C2.5548 8.77849 2.56148 8.75635 2.56605 8.7342C2.57062 8.71135 2.57273 8.68814 2.57273 8.66529C2.57273 8.64244 2.57062 8.61924 2.56605 8.59674C2.56148 8.57424 2.5548 8.55209 2.54601 8.53099Z" fill="#4F4F4F"/>
                        </svg>                          
                      </span>
                    </td>
                    <td>
                      <div class="dropdown">
                        <button class="btn btn-secondary btn-md dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            Create Experience
                        </button>
                        <ul class="dropdown-menu click" aria-labelledby="dropdownMenuButton1">
                          <li><a class="dropdown-item" [routerLink]="['/courses/course-section', course?.courseId]">
                              Course Outline</a>
                          </li>
                          <li><a class="dropdown-item" [routerLink]="['/courses/course-assessment', course?.courseId]"
                            >Course Assessment</a></li>
                          <li><a class="dropdown-item" [routerLink]="['/courses/competence-assessment', course?.courseId]"
                            >Competence Assessment</a></li>
                          <li><a class="dropdown-item" [routerLink]="['/courses/learning-assessment', course?.courseId]"
                            >Learning Assessment </a></li>
                          <li><a class="dropdown-item" href="#">Submit</a></li>
                          <li>
                            <a 
                              class="dropdown-item"
                            ><button class="btn p-0" (click)="openDialog( {isEditing: true, editObject: course } )">Participants</button></a></li>
                          <li (click)="openScheduleClassDialog({isEditing: false, course: course})"><a class="dropdown-item"
                            >Schedule Class</a></li>
                        </ul>
                      </div>
                    </td>
                </tr>
              </ng-template>
            </p-table>
        </ng-container>
        <app-no-data
          name="Course"
          [is_loading]="isFetchingCourses"
          *ngIf="courses?.length == 0"
          (open_dialog)="goTo()"
        >
        </app-no-data>
        <!-- <div class="setup-card bg-white p-5 my-4" *ngFor="let course of courses">
            <div class="d-flex justify-content-between">
                <div>
                    <input type="checkbox" name="" id="">
                </div>
                <div class="click" [routerLink]="['/training-provider/course-creation/add-course', {courseId: course?.courseId}]">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.03984 17.625C6.08672 17.625 6.13359 17.6203 6.18047 17.6133L10.1227 16.9219C10.1695 16.9125 10.2141 16.8914 10.2469 16.8563L20.182 6.92109C20.2038 6.89941 20.221 6.87366 20.2328 6.8453C20.2445 6.81695 20.2506 6.78656 20.2506 6.75586C20.2506 6.72516 20.2445 6.69477 20.2328 6.66642C20.221 6.63806 20.2038 6.61231 20.182 6.59063L16.2867 2.69297C16.2422 2.64844 16.1836 2.625 16.1203 2.625C16.057 2.625 15.9984 2.64844 15.9539 2.69297L6.01875 12.6281C5.98359 12.6633 5.9625 12.7055 5.95312 12.7523L5.26172 16.6945C5.23892 16.8201 5.24707 16.9493 5.28545 17.071C5.32384 17.1927 5.39132 17.3032 5.48203 17.393C5.63672 17.543 5.83125 17.625 6.03984 17.625ZM7.61953 13.5375L16.1203 5.03906L17.8383 6.75703L9.3375 15.2555L7.25391 15.6234L7.61953 13.5375ZM20.625 19.5938H3.375C2.96016 19.5938 2.625 19.9289 2.625 20.3438V21.1875C2.625 21.2906 2.70937 21.375 2.8125 21.375H21.1875C21.2906 21.375 21.375 21.2906 21.375 21.1875V20.3438C21.375 19.9289 21.0398 19.5938 20.625 19.5938Z" fill="#828282"/>
                    </svg>                        
                </div>
            </div>
            <div class="d-md-flex justify-content around">
                <div class="card-left pe-5">
                    <div class="img-wrapper">
                        <img src="" alt="">
                        <div class="upload-icon">
                            <i class="fa fa-camera"></i>
                            <input class="upload-file" type="file" name="" id="">
                        </div>
                    </div>
                    <ng-rating-bar
                        [value]="4"
                        [ratingCount]="5"
                        [disabled]="true"
                        [styles]="{ margin: '0px', fontSize: '16px'}"
                        colorActive="#F88F09" 
                        colorDefault="#cecece"
                    ></ng-rating-bar>
                </div>
                <div class="card-right">
                    <div class="d-md-flex">
                        <span>Training Name: </span>
                        <span class="font-bold ps-3">{{ course?.training_Name }}</span>
                    </div>
                    <div class="d-md-flex py-3">
                            <div class="text-nowrap">Training Transcript: </div>
                            <span class="font-bold ps-3" [innerHTML]="course?.training_Transcript">
                                    <span class="d-block py-3"><i class="fas fa-angle-down"></i> See more</span>
                            </span>
                    </div>
                    <div class="d-md-flex py-3">
                            <span>Training Objectives: </span>
                            <span class="font-bold ps-3">
                                <p>{{ course?.training_Objective }}</p>
                                <span class="d-block py-3"><i class="fas fa-angle-down"></i> See more</span>
                            </span>
                    </div>
                    <div class="d-flex pb-3">
                        <span>Instructor/Facilitator:</span>
                        <span class="font-bold text-capitalize ps-3">{{ course?.facilitator }}</span>
                    </div>
                    <div class="d-flex pb-3">
                        <span>Status:</span>
                        <span class="font-bold ps-3">Pending</span>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-end">
                <div class="dropdown">
                    <button class="btn btn-secondary btn-lg dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                        Create Experience
                    </button>
                    <ul class="dropdown-menu click" aria-labelledby="dropdownMenuButton1">
                      <li><a class="dropdown-item" [routerLink]="['/training-provider/course-creation/course-outline', course?.courseId]">
                          Course Outline</a>
                    </li>
                      <li (click)="openDialog( {isEditing: true, editObject: course } )"><a class="dropdown-item"
                        >Participants</a></li>
                      <li><a class="dropdown-item" [routerLink]="['/training-provider/course-creation/course-assessment', course?.courseId]"
                        >Course Assessment</a></li>
                      <li><a class="dropdown-item" [routerLink]="['/training-provider/course-creation/competence-assessment', course?.courseId]"
                        >Competence Assessment</a></li>
                      <li><a class="dropdown-item" routerLink="/training-provider/course-creation/learning-assessment"
                        >Learning Assessment </a></li>
                      <li><a class="dropdown-item" href="#">Schedule Class</a></li>
                      <li><a class="dropdown-item" href="#">Submit</a></li>
                    </ul>
                </div>
            </div>
        </div> -->
    </div>
</div>