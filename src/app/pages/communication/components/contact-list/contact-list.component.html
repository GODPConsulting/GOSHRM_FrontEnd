<div class="message_wrapper container">
    <div class="message_content">
        <div class=" my-5">
            <div class="py-4" *ngIf="!isTag">
                <div class="back-btn" (click)="goBack()">
                    <svg width="18" height="13" viewBox="0 0 18 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.4998 6.24993H3.31034L7.28009 2.28019C7.35172 2.211 7.40886 2.12824 7.44816 2.03674C7.48747 1.94524 7.50816 1.84682 7.50902 1.74724C7.50989 1.64765 7.49091 1.54889 7.4532 1.45672C7.41549 1.36455 7.3598 1.28081 7.28938 1.21039C7.21896 1.13997 7.13522 1.08428 7.04305 1.04657C6.95088 1.00886 6.85212 0.989886 6.75254 0.990751C6.65295 0.991616 6.55454 1.01231 6.46303 1.05161C6.37153 1.09092 6.28877 1.14806 6.21959 1.21969L0.96959 6.46968C0.828987 6.61033 0.75 6.80106 0.75 6.99993C0.75 7.1988 0.828987 7.38953 0.96959 7.53018L6.21959 12.7802C6.36104 12.9168 6.55049 12.9924 6.74714 12.9907C6.94378 12.989 7.13189 12.9101 7.27095 12.771C7.41001 12.632 7.48888 12.4439 7.49059 12.2472C7.4923 12.0506 7.4167 11.8611 7.28009 11.7197L3.31034 7.74993H16.4998C16.6987 7.74993 16.8895 7.67091 17.0302 7.53026C17.1708 7.38961 17.2498 7.19884 17.2498 6.99993C17.2498 6.80102 17.1708 6.61025 17.0302 6.4696C16.8895 6.32895 16.6987 6.24993 16.4998 6.24993Z" fill="#F88F09"/>
                    </svg>        
                    <span class="ps-3">Back</span>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                 <div class="py-3">
                     <h3>
                         Contact List
                         <span *ngIf="!isTag">{{ ' > ' + subContactTitle }}</span>
                    </h3>
                 </div>
                 <app-searchbar
                     [canAdd]="true"
                     [canDelete]="true"
                     (deleteAction)="deleteContacts(selectedContacts)"
                     (btnAction)="openDialog(false)"
                 ></app-searchbar>
            </div>
         </div>

         <div class="bg-white px-5 py-3">
                <div>
                    <ul 
                        class="nav nav-pills vertical-nav nav-tabs ps-4 mb-0" 
                        id="myTab" role="tablist"
                    >
                        <li class="nav-item" role="presentation">
                            <button
                                class="nav-link"
                                [ngClass]="{ active: current_subTab == 'educational' }"
                                id="pills-info-tab"
                                data-bs-toggle="pill"
                                data-bs-target="#pills-info"
                                type="button"
                                role="tab"
                                aria-controls="pills-info"
                                aria-selected="true"
                                (click)="getEducational()"
                            >
                                Educational
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button
                                class="nav-link"
                                [ngClass]="{ active: current_subTab == 'promotional' }"
                                id="pills-identity-tab"
                                data-bs-toggle="pill"
                                data-bs-target="#pills-identity"
                                type="button"
                                role="tab"
                                aria-controls="pills-identity"
                                aria-selected="false"
                                (click)="getPromotional()"
                            >
                                Promotional
                            </button>
                        </li>
                    </ul>

                    <section class="broadcast tab-content mt-4" id="pills-tabContent">
                        <div>
                            <ng-container
                                *ngIf="(isFetchingContactLists || contactLists.length > 0) && isTag"
                            >
                                <p-table
                                    #dt
                                    [value]="contactLists"
                                    dataKey="contactListId"
                                    [(selection)]="selectedContacts"
                                    [paginator]="true"
                                    [rows]="10"
                                    [responsive]="true"
                                    [scrollable]="true"
                                    [scrollHeight]="viewHeight"
                                    class=""
                                >
                                    <ng-template pTemplate="header">
                                        <tr class="thead">
                                            <th [pSortableColumn]="'updateAt'">
                                                <span>
                                                    <p-tableHeaderCheckbox>
                                                    </p-tableHeaderCheckbox>
                                                </span>
                                                <span class="ps-3">Last Update</span>
                                            </th>
                                            <th [pSortableColumn]="'tagName'">Tag Name</th>
                                            <th [pSortableColumn]="'totalEmail'">No. of Emails</th>
                                            <th></th>         
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-tag let-i="rowIndex">
                                        <tr class="tbody text-capitalize" [pSelectableRow]="tag">
                                            <td 
                                                class="click"
                                            >
                                                <span>
                                                    <p-tableCheckbox
                                                        [value]="tag"
                                                    ></p-tableCheckbox>
                                                </span>
                                                <span class="ps-3"  (click)="getContactListById(tag)">{{ tag?.updatedAt | date }}</span>
                                            </td>
                                            <td 
                                                class="click" 
                                                (click)="getContactListById(tag)"
                                            >
                                                <span>{{ tag?.tagName }}</span>
                                            </td>
                                            <td 
                                                class="click" 
                                                (click)="getContactListById(tag)"
                                            >
                                                {{ tag?.totalEmail }}
                                            </td>
                                            <td>
                                                <span class="click pe-5" (click)="openDialog({isEditing: true, editObject: tag})">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M6.03984 17.625C6.08672 17.625 6.13359 17.6203 6.18047 17.6133L10.1227 16.9219C10.1695 16.9125 10.2141 16.8914 10.2469 16.8563L20.182 6.92109C20.2038 6.89941 20.221 6.87366 20.2328 6.8453C20.2445 6.81695 20.2506 6.78656 20.2506 6.75586C20.2506 6.72516 20.2445 6.69477 20.2328 6.66642C20.221 6.63806 20.2038 6.61231 20.182 6.59063L16.2867 2.69297C16.2422 2.64844 16.1836 2.625 16.1203 2.625C16.057 2.625 15.9984 2.64844 15.9539 2.69297L6.01875 12.6281C5.98359 12.6633 5.9625 12.7055 5.95312 12.7523L5.26172 16.6945C5.23892 16.8201 5.24707 16.9493 5.28545 17.071C5.32384 17.1927 5.39132 17.3032 5.48203 17.393C5.63672 17.543 5.83125 17.625 6.03984 17.625ZM7.61953 13.5375L16.1203 5.03906L17.8383 6.75703L9.3375 15.2555L7.25391 15.6234L7.61953 13.5375ZM20.625 19.5938H3.375C2.96016 19.5938 2.625 19.9289 2.625 20.3438V21.1875C2.625 21.2906 2.70937 21.375 2.8125 21.375H21.1875C21.2906 21.375 21.375 21.2906 21.375 21.1875V20.3438C21.375 19.9289 21.0398 19.5938 20.625 19.5938Z" fill="#828282"/>
                                                    </svg>                                                    
                                                </span>
                                                <span class="click" (click)="deleteContacts([tag])">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M11.9992 1.92871C12.822 1.92864 13.6136 2.24414 14.2107 2.81023C14.8079 3.37632 15.1653 4.14988 15.2092 4.97157L15.2134 5.143H19.9277C20.0906 5.14305 20.2474 5.20492 20.3664 5.31612C20.4854 5.42731 20.5578 5.57954 20.5689 5.74204C20.58 5.90454 20.529 6.06519 20.4262 6.19154C20.3234 6.31789 20.1765 6.40051 20.0152 6.42271L19.9277 6.42871H19.02L17.9743 19.3313C17.9091 20.1362 17.5432 20.8871 16.9495 21.4345C16.3559 21.982 15.5779 22.2859 14.7703 22.2859H9.22802C8.42046 22.2859 7.64247 21.982 7.04879 21.4345C6.45512 20.8871 6.08927 20.1362 6.02402 19.3313L4.97745 6.42871H4.07059C3.91524 6.4287 3.76516 6.37245 3.64808 6.27034C3.531 6.16823 3.45486 6.02719 3.43373 5.87328L3.42773 5.78585C3.42774 5.63051 3.484 5.48042 3.58611 5.36334C3.68821 5.24627 3.82926 5.17012 3.98316 5.149L4.07059 5.143H8.78488C8.78488 4.29051 9.12352 3.47295 9.72632 2.87015C10.3291 2.26736 11.1467 1.92871 11.9992 1.92871ZM17.7309 6.42871H6.26745L7.30545 19.2276C7.34464 19.7105 7.56419 20.161 7.92043 20.4895C8.27666 20.8179 8.74348 21.0002 9.22802 21.0001H14.7703C15.2548 21.0002 15.7217 20.8179 16.0779 20.4895C16.4341 20.161 16.6537 19.7105 16.6929 19.2276L17.73 6.42871H17.7309ZM10.0706 9.643C10.2259 9.643 10.376 9.69926 10.4931 9.80137C10.6102 9.90347 10.6863 10.0445 10.7074 10.1984L10.7134 10.2859V17.143C10.7134 17.3059 10.6515 17.4627 10.5403 17.5817C10.4291 17.7007 10.2769 17.7731 10.1144 17.7842C9.95191 17.7953 9.79125 17.7443 9.66491 17.6415C9.53856 17.5387 9.45594 17.3918 9.43373 17.2304L9.42773 17.143V10.2859C9.42773 10.1154 9.49546 9.95184 9.61602 9.83128C9.73658 9.71073 9.90009 9.643 10.0706 9.643ZM13.9277 9.643C14.0831 9.643 14.2332 9.69926 14.3502 9.80137C14.4673 9.90347 14.5435 10.0445 14.5646 10.1984L14.5706 10.2859V17.143C14.5705 17.3059 14.5087 17.4627 14.3975 17.5817C14.2863 17.7007 14.1341 17.7731 13.9716 17.7842C13.8091 17.7953 13.6484 17.7443 13.522 17.6415C13.3957 17.5387 13.3131 17.3918 13.2909 17.2304L13.2849 17.143V10.2859C13.2849 10.1154 13.3526 9.95184 13.4732 9.83128C13.5937 9.71073 13.7572 9.643 13.9277 9.643ZM11.9992 3.21443C11.5105 3.21437 11.04 3.39982 10.6828 3.73331C10.3256 4.0668 10.1083 4.52346 10.0749 5.011L10.0706 5.143H13.9277L13.9234 5.011C13.89 4.52346 13.6727 4.0668 13.3155 3.73331C12.9583 3.39982 12.4878 3.21437 11.9992 3.21443Z" fill="#4F4F4F"/>
                                                    </svg>                                                    
                                                </span>
                                            </td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                            </ng-container>
                            
                            <ng-container
                                *ngIf="(isFetchingContactDetails || contactDetail.length > 0) && !isTag"
                            >
                                <p-table
                                    #dt
                                    [value]="contactDetail"
                                    dataKey="contactListDetailsId"
                                    [(selection)]="selectedContacts"
                                    [paginator]="true"
                                    [rows]="10"
                                    [responsive]="true"
                                    [scrollable]="true"
                                    [scrollHeight]="viewHeight"
                                    class=""
                                >
                                        <ng-template pTemplate="header">
                                            <tr class="thead">
                                                <th [pSortableColumn]="'updateAt'">
                                                    <span>
                                                        <p-tableHeaderCheckbox>
                                                        </p-tableHeaderCheckbox>
                                                    </span>
                                                    <span class="ps-3">Last Update</span>
                                                </th>
                                                <th [pSortableColumn]="'tagName'">Full Name</th>
                                                <th [pSortableColumn]="'totalEmail'">Email Address</th>
                                                <th></th>         
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-contact let-i="rowIndex">
                                            <tr class="tbody text-capitalize" [pSelectableRow]="contact">
                                                <td 
                                                >
                                                    <span>
                                                        <p-tableCheckbox
                                                            [value]="contact"
                                                        ></p-tableCheckbox>
                                                    </span>
                                                    <span class="ps-3">{{ contact?.updatedAt | date }}</span>
                                                </td>
                                                <td 
                                                >
                                                    <span>{{ contact?.name }}</span>
                                                </td>
                                                <td 
                                                >
                                                    {{ contact?.email }}
                                                </td>
                                                <td>
                                                    <span class="click pe-5" (click)="openEditContactDialog({isEditing: true, editObject: contact})">
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M6.03984 17.625C6.08672 17.625 6.13359 17.6203 6.18047 17.6133L10.1227 16.9219C10.1695 16.9125 10.2141 16.8914 10.2469 16.8563L20.182 6.92109C20.2038 6.89941 20.221 6.87366 20.2328 6.8453C20.2445 6.81695 20.2506 6.78656 20.2506 6.75586C20.2506 6.72516 20.2445 6.69477 20.2328 6.66642C20.221 6.63806 20.2038 6.61231 20.182 6.59063L16.2867 2.69297C16.2422 2.64844 16.1836 2.625 16.1203 2.625C16.057 2.625 15.9984 2.64844 15.9539 2.69297L6.01875 12.6281C5.98359 12.6633 5.9625 12.7055 5.95312 12.7523L5.26172 16.6945C5.23892 16.8201 5.24707 16.9493 5.28545 17.071C5.32384 17.1927 5.39132 17.3032 5.48203 17.393C5.63672 17.543 5.83125 17.625 6.03984 17.625ZM7.61953 13.5375L16.1203 5.03906L17.8383 6.75703L9.3375 15.2555L7.25391 15.6234L7.61953 13.5375ZM20.625 19.5938H3.375C2.96016 19.5938 2.625 19.9289 2.625 20.3438V21.1875C2.625 21.2906 2.70937 21.375 2.8125 21.375H21.1875C21.2906 21.375 21.375 21.2906 21.375 21.1875V20.3438C21.375 19.9289 21.0398 19.5938 20.625 19.5938Z" fill="#828282"/>
                                                        </svg>                                                    
                                                    </span>
                                                    <span class="click" (click)="deleteContacts([contact])">
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M11.9992 1.92871C12.822 1.92864 13.6136 2.24414 14.2107 2.81023C14.8079 3.37632 15.1653 4.14988 15.2092 4.97157L15.2134 5.143H19.9277C20.0906 5.14305 20.2474 5.20492 20.3664 5.31612C20.4854 5.42731 20.5578 5.57954 20.5689 5.74204C20.58 5.90454 20.529 6.06519 20.4262 6.19154C20.3234 6.31789 20.1765 6.40051 20.0152 6.42271L19.9277 6.42871H19.02L17.9743 19.3313C17.9091 20.1362 17.5432 20.8871 16.9495 21.4345C16.3559 21.982 15.5779 22.2859 14.7703 22.2859H9.22802C8.42046 22.2859 7.64247 21.982 7.04879 21.4345C6.45512 20.8871 6.08927 20.1362 6.02402 19.3313L4.97745 6.42871H4.07059C3.91524 6.4287 3.76516 6.37245 3.64808 6.27034C3.531 6.16823 3.45486 6.02719 3.43373 5.87328L3.42773 5.78585C3.42774 5.63051 3.484 5.48042 3.58611 5.36334C3.68821 5.24627 3.82926 5.17012 3.98316 5.149L4.07059 5.143H8.78488C8.78488 4.29051 9.12352 3.47295 9.72632 2.87015C10.3291 2.26736 11.1467 1.92871 11.9992 1.92871ZM17.7309 6.42871H6.26745L7.30545 19.2276C7.34464 19.7105 7.56419 20.161 7.92043 20.4895C8.27666 20.8179 8.74348 21.0002 9.22802 21.0001H14.7703C15.2548 21.0002 15.7217 20.8179 16.0779 20.4895C16.4341 20.161 16.6537 19.7105 16.6929 19.2276L17.73 6.42871H17.7309ZM10.0706 9.643C10.2259 9.643 10.376 9.69926 10.4931 9.80137C10.6102 9.90347 10.6863 10.0445 10.7074 10.1984L10.7134 10.2859V17.143C10.7134 17.3059 10.6515 17.4627 10.5403 17.5817C10.4291 17.7007 10.2769 17.7731 10.1144 17.7842C9.95191 17.7953 9.79125 17.7443 9.66491 17.6415C9.53856 17.5387 9.45594 17.3918 9.43373 17.2304L9.42773 17.143V10.2859C9.42773 10.1154 9.49546 9.95184 9.61602 9.83128C9.73658 9.71073 9.90009 9.643 10.0706 9.643ZM13.9277 9.643C14.0831 9.643 14.2332 9.69926 14.3502 9.80137C14.4673 9.90347 14.5435 10.0445 14.5646 10.1984L14.5706 10.2859V17.143C14.5705 17.3059 14.5087 17.4627 14.3975 17.5817C14.2863 17.7007 14.1341 17.7731 13.9716 17.7842C13.8091 17.7953 13.6484 17.7443 13.522 17.6415C13.3957 17.5387 13.3131 17.3918 13.2909 17.2304L13.2849 17.143V10.2859C13.2849 10.1154 13.3526 9.95184 13.4732 9.83128C13.5937 9.71073 13.7572 9.643 13.9277 9.643ZM11.9992 3.21443C11.5105 3.21437 11.04 3.39982 10.6828 3.73331C10.3256 4.0668 10.1083 4.52346 10.0749 5.011L10.0706 5.143H13.9277L13.9234 5.011C13.89 4.52346 13.6727 4.0668 13.3155 3.73331C12.9583 3.39982 12.4878 3.21437 11.9992 3.21443Z" fill="#4F4F4F"/>
                                                        </svg>                                                    
                                                    </span>
                                                </td>
                                            </tr>
                                        </ng-template>
                                </p-table>
                            </ng-container>
                            

                            <app-no-data
                                name="Contact Lists"
                                [is_loading]="isFetchingContactLists"
                                *ngIf="contactLists?.length == 0 && isTag"
                            >
                            </app-no-data>
                            <app-no-data
                                name="Contact List Details"
                                [is_loading]="isFetchingContactDetails"
                                *ngIf="contactDetail?.length == 0 && !isTag"
                            >
                            </app-no-data>
                        </div>
                    </section>
                </div>
        </div>
    </div>
</div>