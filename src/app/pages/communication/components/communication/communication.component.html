<div class="setup__wrapper">
    <div class="row">
        <div class="col-md-5">
            <h3 class="">Comments</h3>
        </div>
        <div class="col-md-7 d-flex justify-content-end">
            <app-searchbar
                [canAdd]="true"
                (btnAction)="openDialog({isEditing: true})"
                (searchQuery)="getSearchQuery($event)"
                (searchAction)="getAllCourses(true)"
            ></app-searchbar>
        </div>
    </div>
    <div>
        <div class="row">
            <div class="row col-md-6">
                <div class="col-md-5">
                    <div class="form_group mb-4">
                        <label for="" class="form-label">Delivery Type</label>
                        <select name="" id="" class="form-select" [(ngModel)]="deliveryType">
                            <option value="">--Select Delivery Type--</option>
                            <option value="classroom">Classroom</option>
                            <option value="online">Online</option>
                            <option value="video">Video</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form_group mb-4">
                        <label for="" class="form-label">Session Type</label>
                        <select name="" id="" class="form-select" [(ngModel)]="sessionType">
                            <option value="">--Select Session Type--</option>
                            <option value="in-house">In-House</option>
                            <option value="private">Private</option>
                            <option value="public">Public</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-2">
                   <div class="form_group mb-4 mt-5">
                        <button 
                            class="btn btn-green btn-lg"
                            (click)="getAllCourses(true)"
                        >
                            Filter
                        </button>
                   </div>
                </div>
            </div>
        </div>
    </div>

    <div class="setup_content bg-white my-4">
        <div class="my-5" *ngIf="courses?.length == 0">
            <p class="my-auto p-5 text-center">You do not have any course available, try create one</p>
        </div>
        <div class="" *ngIf="courses?.length != 0">
            <p-table
                #dt
                [value]="courses"
                dataKey="courseId"
                [(selection)]="selectedCourses"
                [paginator]="true"
                [rows]="10"
                [responsive]="true"
                [scrollable]="true"
                [scrollHeight]="viewHeight"
                class="" 
            >
              <ng-template pTemplate="header">
                  <tr class="thead">
                        <th [pSortableColumn]="'courseName'">Course Title</th>
                        <th [pSortableColumn]="'numberOfQA'">No. of Comments</th>
                        <th [pSortableColumn]="'deliveryType'">Delivery Type</th>
                        <th [pSortableColumn]="'sessionType'">Session Type</th>
                        <th [pSortableColumn]="'lastQACreated'">Last Comment Date</th>
                        <th></th>      
                  </tr>
              </ng-template>
              <ng-template pTemplate="body" let-course let-i="rowIndex">
                <tr class="tbody text-capitalize" [pSelectableRow]="course">
                    <td class="click" [routerLink]="['/communication/qa', course?.courseId]">
                        {{ course?.courseName }}
                      </td>
                      <td class="click" [routerLink]="['/communication/qa', course?.courseId]">
                          {{ course?.numberOfQA }}
                      </td>
                      <td class="click" [routerLink]="['/communication/qa', course?.courseId]">
                          {{ course?.deliveryType }}
                      </td>
                      <td class="click" [routerLink]="['/communication/qa', course?.courseId]">
                          {{ course?.sessionType }}
                      </td>
                      <td class="click" [routerLink]="['/communication/qa', course?.courseId]">
                        {{ course?.lastQACreated | date }}
                      </td>
                      <td class="click" [routerLink]="['/communication/qa', course?.courseId]">
                        <span class="text-orange">
                            View Q & A
                        </span>
                      </td>
                </tr>
              </ng-template>
            </p-table>
        </div>
    </div>
</div>