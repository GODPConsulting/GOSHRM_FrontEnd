<div class="message_wrapper container">
    <div class="message_content">
        <div class=" my-5">
            <div class="d-flex justify-content-between">
                 <div class="py-3">
                     <h3>Messages</h3>
                 </div>
                 <app-searchbar
                     [canReply]="true"
                     [canAdd]="true"
                     [canDelete]="true"
                     (btnAction)="openMessager()"
                 ></app-searchbar>
            </div>
         </div>

         <div class="bg-white px-5 py-3">
           <div class="row">
             <div class="col-md-2">
              <ul class="nav nav-pills flex-column nav-tabs ps-4 pt-5 mb-0" id="myTab" role="tablist">
                <li class="nav-item pb-4" role="presentation">
                  <button
                    class="nav-link"
                    [ngClass]="{ active: current_tab == 'all' }"
                    id="pills-info-tab"
                    data-bs-toggle="pill"
                    data-bs-target="#pills-info"
                    type="button"
                    role="tab"
                    aria-controls="pills-info"
                    aria-selected="true"
                    (click)="getAllMessages(messageType.Inbox)"
                  >
                    <span>
                      <i class="fa fa-inbox"></i>
                    </span>
                    <span>
                      Inbox
                    </span>
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    [ngClass]="{ active: current_tab == 'participants' }"
                    id="pills-identity-tab"
                    data-bs-toggle="pill"
                    data-bs-target="#pills-identity"
                    type="button"
                    role="tab"
                    aria-controls="pills-identity"
                    aria-selected="false"
                    (click)="getAllMessages(messageType.Sent, 2)"
                  >
                    <span>
                      <i class="fa fa-inbox-out"></i>
                    </span>
                    <span>
                      Sent
                    </span>
                  </button>
                </li>
              </ul>
             </div>

             <div class="col-md-9">
                  <ul 
                    class="nav nav-pills vertical-nav nav-tabs ps-4 pt-5 mb-0" 
                    id="myTab" role="tablist"
                  >
                    <li class="nav-item" role="presentation">
                      <input class="mt-3" type="checkbox" name="" id="">
                    </li>
                    <li *ngIf="tabType == 2" class="nav-item" role="presentation">
                      <button
                        class="nav-link"
                        [ngClass]="{ active: current_tab == 'all' }"
                        id="pills-info-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-info"
                        type="button"
                        role="tab"
                        aria-controls="pills-info"
                        aria-selected="true"
                        (click)="getAll()"
                      >
                        All
                      </button>
                    </li>
                    <li *ngIf="tabType == 2" class="nav-item" role="presentation">
                      <button
                        class="nav-link"
                        [ngClass]="{ active: current_tab == 'participants' }"
                        id="pills-identity-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-identity"
                        type="button"
                        role="tab"
                        aria-controls="pills-identity"
                        aria-selected="false"
                        (click)="getParticipant()"
                      >
                        Partiipant
                      </button>
                    </li>
                    <li *ngIf="tabType == 2" class="nav-item" role="presentation">
                      <button
                        class="nav-link"
                        [ngClass]="{ active: current_tab == 'facilitator' }"
                        id="pills-identity-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-identity"
                        type="button"
                        role="tab"
                        aria-controls="pills-identity"
                        aria-selected="false"
                        (click)="getFacilitator()"
                      >
                        Facilitator
                      </button>
                    </li>
                    <li *ngIf="tabType == 2" class="nav-item" role="presentation">
                      <button
                        class="nav-link"
                        [ngClass]="{ active: current_tab == 'admin' }"
                        id="pills-identity-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-identity"
                        type="button"
                        role="tab"
                        aria-controls="pills-identity"
                        aria-selected="false"
                        (click)="getAdmin()"
                      >
                        Admin
                      </button>
                    </li>
                  </ul>

                  <section class="tab-content mt-4" id="pills-tabContent">
                    <div>
                      <table class="table caption-top text-nowrap" datatable>
                          <tbody>
                            <ng-container>
                              <tr class="text-capitalize" *ngFor="let message of messages; index as i">
                                  <td 
                                    class="click" 
                                    (click)="goToMesage(message)"
                                  >
                                      <span class="pe-3"><input type="checkbox" name="" id=""></span>
                                      <span>{{ message?.name }}</span>
                                  </td>
                                  <td 
                                    class="click" 
                                    (click)="goToMesage(message)"
                                  >
                                      <span>{{ message?.courseTitle }}</span>
                                      <!-- <span [innerHTML]="message?.message"></span> -->
                                  </td>
                                  <td 
                                    class="click" 
                                    (click)="goToMesage(message)"
                                  >
                                      {{ message?.dateCreated | date:'dd-MMM' }}
                                  </td>
                              </tr>
                            </ng-container>
                          </tbody>
                      </table>
                    </div>
                    <div *ngIf="current_tab == 'participant'"></div>
                  </section>
              </div>
            </div>
          </div>

        <div id="messager" class="message-box d-none">
            <app-send-message></app-send-message>
        </div>
    </div>
</div>