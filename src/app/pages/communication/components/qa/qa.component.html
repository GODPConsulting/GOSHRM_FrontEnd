<div class="community__wrapper">
    <div class="activities bg-white p-4 my-3" *ngFor="let question of questions; index as i">
            <div class="d-md-flex justify-content around">
                <div class="card-left">
                    <div class="img-wrapper">
                        <img 
                            [src]="question?.questionByPictureUrl ? question?.questionByPictureUrl : '' " 
                            alt=""
                        />
                    </div>
                </div>
                <div class="card-right ps-md-5">
                    <div class="d-flex pb-3 pt-3">
                        <span>Advanced Excel Ms</span>
                        <span class="font-bold ps-3">Question</span>
                    </div>
                    <div class="d-flex pb-4">
                        <span>{{ question?.questionBy }}</span>
                    </div>
                    <div class="question">
                        <div class="d-flex py-3">
                                <span class="font-bold">
                                    {{ question?.comment }}
                                </span>
                        </div>
                        <div class="d-flex">
                            <div class="pe-5 click">
                                <span (click)="likeAndDislike(question, i)">
                                    <svg [ngClass]="question?.isLiked ? 'isLike' : ''" width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7 22.5H4C3.46957 22.5 2.96086 22.2893 2.58579 21.9142C2.21071 21.5391 2 21.0304 2 20.5V13.5C2 12.9696 2.21071 12.4609 2.58579 12.0858C2.96086 11.7107 3.46957 11.5 4 11.5H7M14 9.5V5.5C14 4.70435 13.6839 3.94129 13.1213 3.37868C12.5587 2.81607 11.7956 2.5 11 2.5L7 11.5V22.5H18.28C18.7623 22.5055 19.2304 22.3364 19.5979 22.024C19.9654 21.7116 20.2077 21.2769 20.28 20.8L21.66 11.8C21.7035 11.5134 21.6842 11.2207 21.6033 10.9423C21.5225 10.6638 21.3821 10.4063 21.1919 10.1875C21.0016 9.96873 20.7661 9.79393 20.5016 9.67522C20.2371 9.5565 19.9499 9.49672 19.66 9.5H14Z" stroke="#FBC783" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>                                    
                                </span>
                                <span class="ps-2">Likes {{ question?.totalLike }}</span>
                            </div>
                            <div class="click" (click)="showQuestionReply(question, i)">
                                <span>
                                    <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M21 15.5C21 16.0304 20.7893 16.5391 20.4142 16.9142C20.0391 17.2893 19.5304 17.5 19 17.5H7L3 21.5V5.5C3 4.96957 3.21071 4.46086 3.58579 4.08579C3.96086 3.71071 4.46957 3.5 5 3.5H19C19.5304 3.5 20.0391 3.71071 20.4142 4.08579C20.7893 4.46086 21 4.96957 21 5.5V15.5Z" stroke="#FBC783" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>                                                                     
                                </span>
                                <span class="ps-2">Reply {{ question?.totalReply }}</span>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div [id]="'response'+i" class="reply d-none py-4">
                        <div *ngFor="let reply of question?.replies; index as j">
                            <div class="d-flex pb-2">
                                <div class="responder-img">
                                    <img 
                                        [src]="reply?.questionByPictureUrl ? reply?.questionByPictureUrl : ''" 
                                        alt=""
                                    />
                                </div>
                                <span class="px-3">Innocent Sample</span>
                            </div>
                            <div class="question">
                                <div class="py-3">
                                        <span class="font-bold" [innerHTML]="reply?.reply"></span>
                                        <div 
                                            class="text-danger click"
                                            *ngIf="j == (question?.replies.length-1) && !isSuccessful"
                                        >
                                            <span class="pe-3" (click)="submit(i)">Retry</span>
                                            <span *ngIf="isLoading"><i class="fa fa-spinner"></i></span>
                                        </div>
                                </div>
                                <div class="d-flex">
                                    <div class="pe-5 click">
                                        <span (click)="likeAndDislike(question, i, reply, j)">
                                            <svg [ngClass]="reply?.isLiked ? 'isLike' : ''" width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M7 22.5H4C3.46957 22.5 2.96086 22.2893 2.58579 21.9142C2.21071 21.5391 2 21.0304 2 20.5V13.5C2 12.9696 2.21071 12.4609 2.58579 12.0858C2.96086 11.7107 3.46957 11.5 4 11.5H7M14 9.5V5.5C14 4.70435 13.6839 3.94129 13.1213 3.37868C12.5587 2.81607 11.7956 2.5 11 2.5L7 11.5V22.5H18.28C18.7623 22.5055 19.2304 22.3364 19.5979 22.024C19.9654 21.7116 20.2077 21.2769 20.28 20.8L21.66 11.8C21.7035 11.5134 21.6842 11.2207 21.6033 10.9423C21.5225 10.6638 21.3821 10.4063 21.1919 10.1875C21.0016 9.96873 20.7661 9.79393 20.5016 9.67522C20.2371 9.5565 19.9499 9.49672 19.66 9.5H14Z" stroke="#FBC783" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>                                    
                                        </span>
                                        <span class="ps-2">Likes {{ reply?.totalLike }}</span>
                                    </div>
                                    <div class="click" (click)="showQuestionSubReply(question, reply, j)">
                                        <span>
                                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M21 15.5C21 16.0304 20.7893 16.5391 20.4142 16.9142C20.0391 17.2893 19.5304 17.5 19 17.5H7L3 21.5V5.5C3 4.96957 3.21071 4.46086 3.58579 4.08579C3.96086 3.71071 4.46957 3.5 5 3.5H19C19.5304 3.5 20.0391 3.71071 20.4142 4.08579C20.7893 4.46086 21 4.96957 21 5.5V15.5Z" stroke="#FBC783" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>                                                                     
                                        </span>
                                        <span class="ps-2">Reply {{ reply?.totalreply }}</span>
                                    </div>
                                </div>
                                <hr>
                            </div>
                            <div [id]="'reply'+j" class="sub-reply d-none px-5">
                                <div *ngFor="let item of replies; index as k">
                                    <div class="d-flex pb-2">
                                        <div class="responder-img">
                                            <img 
                                                [src]="item?.questionByPictureUrl ? item?.questionByPictureUrl : ''" 
                                                alt=""
                                            />
                                        </div>
                                        <span class="px-3">Innocent Sample</span>
                                    </div>
                                    <div class="question">
                                        <div class="d-flex py-3">
                                                <span class="font-bold" [innerHTML]="item?.reply"></span>
                                        </div>
                                        <div class="d-flex">
                                            <div class="pe-5">
                                                <span (click)="likeAndDislike(question, k, item)">
                                                    <svg [ngClass]="item?.isLiked ? 'isLike' : ''" width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M7 22.5H4C3.46957 22.5 2.96086 22.2893 2.58579 21.9142C2.21071 21.5391 2 21.0304 2 20.5V13.5C2 12.9696 2.21071 12.4609 2.58579 12.0858C2.96086 11.7107 3.46957 11.5 4 11.5H7M14 9.5V5.5C14 4.70435 13.6839 3.94129 13.1213 3.37868C12.5587 2.81607 11.7956 2.5 11 2.5L7 11.5V22.5H18.28C18.7623 22.5055 19.2304 22.3364 19.5979 22.024C19.9654 21.7116 20.2077 21.2769 20.28 20.8L21.66 11.8C21.7035 11.5134 21.6842 11.2207 21.6033 10.9423C21.5225 10.6638 21.3821 10.4063 21.1919 10.1875C21.0016 9.96873 20.7661 9.79393 20.5016 9.67522C20.2371 9.5565 19.9499 9.49672 19.66 9.5H14Z" stroke="#FBC783" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    </svg>                                    
                                                </span>
                                                <span class="ps-2 click">Likes {{ item?.totalLike }}</span>
                                            </div>
                                            <div class="click">
                                                <span>
                                                    <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M21 15.5C21 16.0304 20.7893 16.5391 20.4142 16.9142C20.0391 17.2893 19.5304 17.5 19 17.5H7L3 21.5V5.5C3 4.96957 3.21071 4.46086 3.58579 4.08579C3.96086 3.71071 4.46957 3.5 5 3.5H19C19.5304 3.5 20.0391 3.71071 20.4142 4.08579C20.7893 4.46086 21 4.96957 21 5.5V15.5Z" stroke="#FBC783" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    </svg>                                                                     
                                                </span>
                                                <span class="ps-2">Reply {{ item?.totalreply }}</span>
                                            </div>
                                        </div>
                                        <hr>
                                    </div>
                                </div>
                                <div>
                                    <angular-editor [(ngModel)]="htmlContent" [config]="config"></angular-editor>
                                    <div class="d-flex justify-content-end py-4">
                                        <button class="btn btn-green btn-lg" (click)="replyQuestion(question, j, reply)">
                                            Reply
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="!showSubReply">
                            <angular-editor [(ngModel)]="htmlContent" [config]="config"></angular-editor>
                            <div class="d-flex justify-content-end py-4">
                                <button class="btn btn-green btn-lg" (click)="replyQuestion(question, i)">
                                    Reply
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
</div>